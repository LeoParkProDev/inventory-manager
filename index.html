<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ë²¤í† ë¦¬ ë§¤ë‹ˆì € Pro</title>

    <!-- DNS Prefetch & Preconnect for faster CDN loading -->
    <link rel="dns-prefetch" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://script.google.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://script.google.com" crossorigin>

    <!-- Google Fonts: í•„ìˆ˜ êµµê¸°ë§Œ ë¡œë“œ, display=swapìœ¼ë¡œ FOIT ë°©ì§€ -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome: ë¹„ë™ê¸° ë¡œë“œë¡œ ë Œë”ë§ ë¸”ë¡œí‚¹ ë°©ì§€ -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"></noscript>

    <style id="tailwind-build">*,:after,:before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(59,130,246,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/*! tailwindcss v3.4.19 | MIT License | https://tailwindcss.com*/*,:after,:before{box-sizing:border-box;border:0 solid #e5e7eb}:after,:before{--tw-content:""}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0}fieldset,legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.pointer-events-none{pointer-events:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.inset-y-0{top:0;bottom:0}.bottom-6{bottom:1.5rem}.left-3{left:.75rem}.right-0{right:0}.right-6{right:1.5rem}.top-1\/2{top:50%}.z-50{z-index:50}.z-\[100\]{z-index:100}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-1{margin-top:.25rem}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.h-12{height:3rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-9{height:2.25rem}.min-h-screen{min-height:100vh}.w-1\/4{width:25%}.w-12{width:3rem}.w-16{width:4rem}.w-20{width:5rem}.w-24{width:6rem}.w-40{width:10rem}.w-44{width:11rem}.w-48{width:12rem}.w-\[140px\]{width:140px}.w-full{width:100%}.max-w-6xl{max-width:72rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.-translate-y-1\/2{--tw-translate-y:-50%}.-translate-y-1\/2,.translate-y-20{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-20{--tw-translate-y:5rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem*(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem*var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse:0;border-top-width:calc(1px*(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px*var(--tw-divide-y-reverse))}.divide-slate-100>:not([hidden])~:not([hidden]){--tw-divide-opacity:1;border-color:rgb(241 245 249/var(--tw-divide-opacity,1))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.border{border-width:1px}.border-b{border-bottom-width:1px}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249/var(--tw-border-opacity,1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240/var(--tw-border-opacity,1))}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225/var(--tw-border-opacity,1))}.bg-black\/50{background-color:rgba(0,0,0,.5)}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity,1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255/var(--tw-bg-opacity,1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235/var(--tw-bg-opacity,1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231/var(--tw-bg-opacity,1))}.bg-red-900{--tw-bg-opacity:1;background-color:rgb(127 29 29/var(--tw-bg-opacity,1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity,1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59/var(--tw-bg-opacity,1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1))}.p-1\.5{padding:.375rem}.p-12{padding:3rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pl-10{padding-left:2.5rem}.pr-10{padding-right:2.5rem}.pr-4{padding-right:1rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-5xl{font-size:3rem;line-height:1}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.tracking-wider{letter-spacing:.05em}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235/var(--tw-text-opacity,1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175/var(--tw-text-opacity,1))}.text-green-400{--tw-text-opacity:1;color:rgb(74 222 128/var(--tw-text-opacity,1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74/var(--tw-text-opacity,1))}.text-red-400{--tw-text-opacity:1;color:rgb(248 113 113/var(--tw-text-opacity,1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184/var(--tw-text-opacity,1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139/var(--tw-text-opacity,1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105/var(--tw-text-opacity,1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85/var(--tw-text-opacity,1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59/var(--tw-text-opacity,1))}.text-slate-900{--tw-text-opacity:1;color:rgb(15 23 42/var(--tw-text-opacity,1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1))}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-20{opacity:.2}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgba(0,0,0,.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.shadow-2xl,.shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.shadow-md,.shadow-sm{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216/var(--tw-bg-opacity,1))}.hover\:bg-green-600:hover{--tw-bg-opacity:1;background-color:rgb(22 163 74/var(--tw-bg-opacity,1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity,1))}.hover\:bg-slate-50\/80:hover{background-color:rgba(248,250,252,.8)}.hover\:text-slate-600:hover{--tw-text-opacity:1;color:rgb(71 85 105/var(--tw-text-opacity,1))}.hover\:text-white:hover{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1))}.focus\:border-blue-500:focus{--tw-border-opacity:1;border-color:rgb(59 130 246/var(--tw-border-opacity,1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus\:ring-blue-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(59 130 246/var(--tw-ring-opacity,1))}.active\:scale-95:active{--tw-scale-x:.95;--tw-scale-y:.95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group:hover .group-hover\:opacity-100{opacity:1}@media (min-width:768px){.md\:col-span-3{grid-column:span 3/span 3}.md\:w-64{width:16rem}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:flex-row{flex-direction:row}.md\:items-center{align-items:center}}</style>

    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 16px;
        }

        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: none; margin: 0;
        }

        /* í…Œì´ë¸” í–‰ - í˜¸ë²„ì‹œ ë‹¨ìˆœ ë°°ê²½ìƒ‰ë§Œ ë³€ê²½ */
        tbody tr:hover {
            background-color: #f1f5f9 !important;
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜•: ë²„íŠ¼ í¬ê¸° ìœ ì§€ */
        @media (max-width: 768px) {
            .mobile-compact-btn {
                width: 3rem !important;  /* 48px - í„°ì¹˜í•˜ê¸° ì¢‹ì€ í¬ê¸° */
                height: 3rem !important;
                font-size: 1.75rem !important;
            }
            .mobile-compact-input {
                width: 4rem !important; /* 64px - ìˆ«ì ì…ë ¥í•˜ê¸° ì¢‹ì€ í¬ê¸° */
                font-size: 1.125rem !important;
            }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen">

    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <div class="max-w-6xl mx-auto px-4 py-8">
        
        <!-- í—¤ë” ì„¹ì…˜ -->
        <div class="flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4">
            <div>
                <h1 class="text-2xl font-bold flex items-center gap-2">
                    <i class="fa-solid fa-boxes-stacked text-blue-600"></i>
                    ì¸ë²¤í† ë¦¬ ë§¤ë‹ˆì €
                </h1>
                <p class="text-slate-500">ì‹¤ì‹œê°„ ì¬ê³  ê´€ë¦¬ (ì „ì²´ ë™ê¸°í™” ëª¨ë“œ)</p>
            </div>
            <div class="flex gap-3">
                <button onclick="saveAllData(this)"
                        class="px-6 py-3 rounded-lg bg-green-600 text-white font-bold text-lg flex items-center gap-2 border-2 border-green-700">
                    <i class="fa-solid fa-save"></i> ì €ì¥
                </button>
                <button onclick="toggleModal(true)"
                        class="px-6 py-3 rounded-lg bg-blue-600 text-white font-bold text-lg flex items-center gap-2 border-2 border-blue-700">
                    <i class="fa-solid fa-plus"></i> í’ˆëª© ì¶”ê°€
                </button>
            </div>
        </div>

        <!-- ìš”ì•½ ëŒ€ì‹œë³´ë“œ -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white p-6 rounded-lg border-2 border-slate-300 md:col-span-3 flex items-center justify-between">
                <div>
                    <p class="text-slate-700 text-base font-bold">ì „ì²´ ë“±ë¡ í’ˆëª©</p>
                    <h3 id="totalItems" class="text-4xl font-bold mt-2 text-blue-600">0</h3>
                </div>
                <div class="h-16 w-16 bg-blue-100 rounded-lg flex items-center justify-center text-blue-700 border-2 border-blue-300">
                    <i class="fa-solid fa-cube text-3xl"></i>
                </div>
            </div>
        </div>

        <!-- í•„í„° ë° ê²€ìƒ‰ -->
        <div class="bg-white p-5 rounded-lg border-2 border-slate-300 mb-6 flex flex-col md:flex-row gap-4">
            <div class="relative flex-1">
                <i class="fa-solid fa-magnifying-glass absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-lg"></i>
                <input type="text" id="searchInput" onkeyup="filterInventory()" placeholder="í’ˆëª©ëª… ê²€ìƒ‰..." class="w-full pl-12 pr-4 py-3 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none text-base">
            </div>
            <div class="w-full md:w-64 relative">
                <select id="categoryFilter" onchange="filterInventory()" class="w-full border-2 border-slate-300 rounded-lg px-4 py-3 focus:border-blue-500 focus:outline-none appearance-none bg-white pr-10 text-base font-medium">
                    <option value="">ëª¨ë“  ì¹´í…Œê³ ë¦¬</option>
                </select>
                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-slate-500">
                    <i class="fa-solid fa-chevron-down"></i>
                </div>
            </div>
        </div>

        <!-- ì¸ë²¤í† ë¦¬ í…Œì´ë¸” -->
        <div class="bg-white rounded-lg border-2 border-slate-300 overflow-hidden">
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead class="bg-slate-100 border-b-2 border-slate-300">
                        <tr>
                            <th class="px-5 py-4 text-sm font-bold text-slate-700 uppercase">í’ˆëª©</th>
                            <th class="px-5 py-4 text-sm font-bold text-slate-700 uppercase w-48">ìˆ˜ëŸ‰</th>
                            <th class="px-5 py-4 text-sm font-bold text-slate-700 uppercase w-1/4">ì¹´í…Œê³ ë¦¬</th>
                            <th class="px-5 py-4 text-sm font-bold text-slate-700 uppercase w-20 text-center">ì‘ì—…</th>
                        </tr>
                    </thead>
                    <tbody id="inventoryBody" class="divide-y divide-slate-200">
                        <!-- ë¡œë”© ì¤‘... -->
                        <tr>
                            <td colspan="4" class="px-5 py-8 text-center text-slate-600 text-lg">
                                ë°ì´í„° ë¡œë”© ì¤‘...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="noDataMessage" class="hidden p-12 text-center text-slate-600">
                <i class="fa-solid fa-box-open text-5xl mb-4"></i>
                <p class="text-lg font-medium">ì¼ì¹˜í•˜ëŠ” ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>

    <!-- í’ˆëª© ì¶”ê°€ ëª¨ë‹¬ -->
    <div id="itemModal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg border-4 border-slate-400 w-full max-w-md overflow-hidden">
            <div class="px-6 py-4 bg-slate-200 border-b-2 border-slate-400 flex justify-between items-center">
                <h3 class="font-bold text-xl text-slate-800">ìƒˆ í’ˆëª© ì¶”ê°€</h3>
                <button onclick="toggleModal(false)" class="text-slate-600 text-2xl font-bold"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <form id="inventoryForm" class="p-6 space-y-5">
                <div>
                    <label class="block text-base font-bold text-slate-800 mb-2">ì¹´í…Œê³ ë¦¬</label>
                    <input type="text" name="Category" required placeholder="ì˜ˆ: ì „ìì œí’ˆ" class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none text-base">
                </div>
                <div>
                    <label class="block text-base font-bold text-slate-800 mb-2">í’ˆëª©</label>
                    <input type="text" name="name" required placeholder="ì˜ˆ: ë§¥ë¶ í”„ë¡œ 16ì¸ì¹˜" class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none text-base">
                </div>
                <div>
                    <label class="block text-base font-bold text-slate-800 mb-2">ìˆ˜ëŸ‰</label>
                    <input type="number" name="count" required placeholder="0" class="w-full px-4 py-3 border-2 border-slate-300 rounded-lg focus:border-blue-500 focus:outline-none text-base">
                </div>

                <div class="pt-4 flex gap-3">
                    <button type="button" onclick="toggleModal(false)"
                            class="flex-1 px-5 py-3 rounded-lg bg-slate-500 text-white font-bold text-lg border-2 border-slate-600">
                        ì·¨ì†Œ
                    </button>
                    <button type="submit" id="saveBtn"
                            class="flex-1 px-5 py-3 rounded-lg bg-blue-600 text-white font-bold text-lg border-2 border-blue-700">
                        ì €ì¥í•˜ê¸°
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ -->
    <div id="deleteModal" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-lg border-4 border-red-400 w-full max-w-md overflow-hidden">
            <div class="px-6 py-4 bg-red-100 border-b-2 border-red-400 flex justify-between items-center">
                <h3 class="font-bold text-xl text-red-700">í’ˆëª© ì‚­ì œ</h3>
                <button onclick="toggleDeleteModal(false)" class="text-red-600 text-2xl font-bold"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="p-6">
                <p class="text-slate-800 text-lg font-medium mb-6">ì •ë§ë¡œ ì´ í’ˆëª©ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</p>
                <div class="flex gap-3">
                    <button type="button" onclick="toggleDeleteModal(false)"
                            class="flex-1 px-5 py-3 rounded-lg bg-slate-500 text-white font-bold text-lg border-2 border-slate-600">
                        ì·¨ì†Œ
                    </button>
                    <button type="button" onclick="confirmDelete()"
                            class="flex-1 px-5 py-3 rounded-lg bg-red-600 text-white font-bold text-lg border-2 border-red-700">
                        ì‚­ì œ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì•Œë¦¼ì°½ (Toast) -->
    <div id="toast" class="hidden fixed bottom-6 right-6 z-[100]">
        <div id="toastBg" class="bg-slate-800 text-white px-6 py-4 rounded-lg border-2 border-slate-600 flex items-center gap-3">
            <i id="toastIcon" class="fa-solid fa-circle-check text-green-400 text-xl"></i>
            <span id="toastMsg" class="text-base font-medium">ë©”ì‹œì§€</span>
        </div>
    </div>

    <script>
        const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwbIe9byPtqUfOBwfZnpSRrEnfKb3DS-FrfqWzaDskFIXGopPvJNmr6u1j6lcV7xP-8/exec"
        let inventoryData = [];
        const CACHE_KEY = 'inventory_cache';
        const CACHE_DURATION = 2 * 60 * 1000; // 2ë¶„

        // ì¡°ê¸° ìµœì í™”: ì¦‰ì‹œ API ìš”ì²­ ì‹œì‘ (DOM ë¡œë“œ ëŒ€ê¸° ì—†ì´)
        let earlyFetchPromise = null;
        const cached = localStorage.getItem(CACHE_KEY);
        if (!cached || Date.now() - JSON.parse(cached).timestamp >= CACHE_DURATION) {
            console.log('âš¡ ì¡°ê¸° API ìš”ì²­ ì‹œì‘ (DOM ë¡œë“œ ì „)');
            earlyFetchPromise = fetch(SCRIPT_URL).then(r => r.json());
        }

        // DOMì´ ì¤€ë¹„ë˜ë©´ ì¦‰ì‹œ ì‹¤í–‰ (ì´ë¯¸ì§€/í°íŠ¸ ë¡œë“œ ëŒ€ê¸° X)
        document.addEventListener('DOMContentLoaded', fetchInventory);

        async function fetchInventory(forceRefresh = false) {
            try {
                console.log('ğŸš€ ë°ì´í„° ë¡œë“œ ì‹œì‘', forceRefresh ? '(ê°•ì œ ìƒˆë¡œê³ ì¹¨)' : '');
                const startTime = performance.now();

                // ìºì‹œ í™•ì¸ (ê°•ì œ ìƒˆë¡œê³ ì¹¨ì´ ì•„ë‹ ë•Œë§Œ)
                if (!forceRefresh) {
                    const cached = localStorage.getItem(CACHE_KEY);
                    if (cached) {
                        const { data, timestamp } = JSON.parse(cached);
                        if (Date.now() - timestamp < CACHE_DURATION) {
                            const cacheTime = performance.now() - startTime;
                            console.log(`âœ… ìºì‹œì—ì„œ ë°ì´í„° ë¡œë“œ ì™„ë£Œ (${cacheTime.toFixed(2)}ms)`);
                            processInventoryData(data);
                            return;
                        }
                    }
                }

                // APIì—ì„œ ìƒˆ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                console.time('â±ï¸  API í˜¸ì¶œ ì‹œê°„');
                let result;

                // ì¡°ê¸° ìš”ì²­ì´ ìˆìœ¼ë©´ ì¬ì‚¬ìš©, ì—†ìœ¼ë©´ ìƒˆë¡œ ìš”ì²­
                if (earlyFetchPromise && !forceRefresh) {
                    console.log('âš¡ ì¡°ê¸° ìš”ì²­ ê²°ê³¼ ì‚¬ìš©');
                    result = await earlyFetchPromise;
                    earlyFetchPromise = null; // í•œë²ˆë§Œ ì‚¬ìš©
                } else {
                    const response = await fetch(SCRIPT_URL);
                    if (!response.ok) throw new Error('ë„¤íŠ¸ì›Œí¬ ì‘ë‹µ ì—ëŸ¬');
                    result = await response.json();
                }

                console.timeEnd('â±ï¸  API í˜¸ì¶œ ì‹œê°„');
                const rawData = result.data || result;

                if (rawData && rawData.length > 0) {
                    // ìºì‹œì— ì €ì¥
                    localStorage.setItem(CACHE_KEY, JSON.stringify({
                        data: rawData,
                        timestamp: Date.now()
                    }));

                    processInventoryData(rawData);
                    const totalTime = performance.now() - startTime;
                    console.log(`âœ… ì „ì²´ ë¡œë”© ì™„ë£Œ (${totalTime.toFixed(2)}ms, ë°ì´í„°: ${rawData.length}ê°œ)`);
                } else {
                    document.getElementById('noDataMessage').classList.remove('hidden');
                }
            } catch (error) {
                console.error('Fetch error:', error);
                // ì—ëŸ¬ ì‹œ ìºì‹œ ì‹œë„
                const cached = localStorage.getItem(CACHE_KEY);
                if (cached) {
                    const { data } = JSON.parse(cached);
                    processInventoryData(data);
                    showToast("ìºì‹œëœ ë°ì´í„°ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤", "error");
                } else {
                    showToast("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.", "error");
                }
            }
        }

        function processInventoryData(rawData) {
            console.time('ë°ì´í„° ì²˜ë¦¬');

            // ìµœì í™”: í‚¤ë¥¼ í•œë²ˆë§Œ ì†Œë¬¸ìë¡œ ë³€í™˜í•œ ë§µ ìƒì„±
            inventoryData = rawData.map(item => {
                const keyMap = {};
                Object.keys(item).forEach(k => {
                    keyMap[k.toLowerCase()] = k;
                });

                return {
                    category: item[keyMap['category']] || '',
                    name: item[keyMap['name']] || '',
                    count: item[keyMap['count']] || ''
                };
            });

            console.timeEnd('ë°ì´í„° ì²˜ë¦¬');
            console.time('í…Œì´ë¸” ë Œë”ë§');
            renderTable(inventoryData);
            console.timeEnd('í…Œì´ë¸” ë Œë”ë§');
            console.time('í†µê³„ ì—…ë°ì´íŠ¸');
            updateStats(inventoryData);
            console.timeEnd('í†µê³„ ì—…ë°ì´íŠ¸');
            console.time('í•„í„° ì„¤ì •');
            setupFilters(inventoryData);
            console.timeEnd('í•„í„° ì„¤ì •');
        }

        function updateStats(data) {
            document.getElementById('totalItems').textContent = data.length;
        }

        // ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ìƒ ìë™ í• ë‹¹ (í•´ì‹œ ê¸°ë°˜ìœ¼ë¡œ ì¼ê´€ëœ ìƒ‰ìƒ)
        function getCategoryColor(category) {
            const colors = [
                { bg: 'bg-blue-100', text: 'text-blue-900', border: 'border-blue-400' },
                { bg: 'bg-green-100', text: 'text-green-900', border: 'border-green-400' },
                { bg: 'bg-purple-100', text: 'text-purple-900', border: 'border-purple-400' },
                { bg: 'bg-orange-100', text: 'text-orange-900', border: 'border-orange-400' },
                { bg: 'bg-pink-100', text: 'text-pink-900', border: 'border-pink-400' },
                { bg: 'bg-indigo-100', text: 'text-indigo-900', border: 'border-indigo-400' },
                { bg: 'bg-teal-100', text: 'text-teal-900', border: 'border-teal-400' },
                { bg: 'bg-cyan-100', text: 'text-cyan-900', border: 'border-cyan-400' }
            ];

            // ì¹´í…Œê³ ë¦¬ëª…ì„ í•´ì‹œí•˜ì—¬ ì¼ê´€ëœ ìƒ‰ìƒ ì„ íƒ
            let hash = 0;
            for (let i = 0; i < category.length; i++) {
                hash = category.charCodeAt(i) + ((hash << 5) - hash);
            }
            const index = Math.abs(hash) % colors.length;
            return colors[index];
        }

        function setupFilters(data) {
            const categories = [...new Set(data.map(item => String(item.category || '').trim()))]
                                .filter(val => val !== '')
                                .sort();
            const select = document.getElementById('categoryFilter');
            select.innerHTML = '<option value="">ëª¨ë“  ì¹´í…Œê³ ë¦¬</option>';
            categories.forEach(cat => {
                const opt = document.createElement('option');
                opt.value = cat;
                opt.textContent = cat;
                select.appendChild(opt);
            });
        }

        function renderTable(data) {
            const body = document.getElementById('inventoryBody');
            if (data.length === 0) {
                body.innerHTML = '';
                document.getElementById('noDataMessage').classList.remove('hidden');
                return;
            }
            document.getElementById('noDataMessage').classList.add('hidden');

            // ìµœì í™”: ëŒ€ëŸ‰ ë°ì´í„°ëŠ” ë°°ì¹˜ë¡œ ì²˜ë¦¬
            if (data.length > 100) {
                // ì²­í¬ ë‹¨ìœ„ë¡œ ë Œë”ë§ (ë¶€ë“œëŸ¬ìš´ ê²½í—˜)
                body.innerHTML = '<tr><td colspan="3" class="p-4 text-center text-slate-500">ë Œë”ë§ ì¤‘...</td></tr>';
                requestAnimationFrame(() => {
                    body.innerHTML = data.map((item, index) => createRowHTML(item, index)).join('');
                });
            } else {
                body.innerHTML = data.map((item, index) => createRowHTML(item, index)).join('');
            }
        }

        function createRowHTML(item, index) {
            const category = item.category || 'ë¯¸ë¶„ë¥˜';
            const color = getCategoryColor(category);

            return `
                <tr>
                    <td class="px-5 py-4 text-lg text-slate-900 font-bold">${item.name || '-'}</td>
                    <td class="pl-4 pr-5 py-4">
                        <div class="flex items-center gap-3">
                            <button onclick="decreaseQuantity(${index})" type="button"
                                    class="w-14 h-14 mobile-compact-btn rounded-lg bg-red-600 text-white font-black text-3xl flex items-center justify-center border-2 border-red-800"
                                    title="ìˆ˜ëŸ‰ ê°ì†Œ">
                                âˆ’
                            </button>
                            <input type="number" id="qty-${index}" value="${item.count || 0}"
                                   onchange="updateQuantityValue(${index})"
                                   class="w-16 mobile-compact-input px-3 py-3 border-2 border-slate-400 rounded-lg focus:border-blue-500 focus:outline-none text-center font-mono text-xl font-bold">
                            <button onclick="increaseQuantity(${index})" type="button"
                                    class="w-14 h-14 mobile-compact-btn rounded-lg bg-blue-600 text-white font-black text-3xl flex items-center justify-center border-2 border-blue-800"
                                    title="ìˆ˜ëŸ‰ ì¦ê°€">
                                +
                            </button>
                        </div>
                    </td>
                    <td class="px-5 py-4">
                        <span class="inline-flex items-center px-3 py-1 rounded-md text-sm font-bold border-2 ${color.bg} ${color.text} ${color.border}">
                            ${category}
                        </span>
                    </td>
                    <td class="px-5 py-4 text-center">
                        <button onclick="deleteItem(${index})" type="button"
                                class="w-14 h-14 mobile-compact-btn rounded-lg bg-red-600 text-white flex items-center justify-center mx-auto border-2 border-red-800"
                                title="í’ˆëª© ì‚­ì œ">
                            <i class="fa-solid fa-trash text-xl"></i>
                        </button>
                    </td>
                </tr>
            `;
        }

        function filterInventory() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const categoryTerm = document.getElementById('categoryFilter').value;
            const filtered = inventoryData.filter(item => {
                const matchesSearch = String(item.name).toLowerCase().includes(searchTerm) || 
                                      String(item.category).toLowerCase().includes(searchTerm);
                const matchesCategory = !categoryTerm || String(item.category).trim() === categoryTerm;
                return matchesSearch && matchesCategory;
            });
            renderTable(filtered);
        }

        // ì „ì²´ ë°ì´í„° ë™ê¸°í™” (ì €ì¥) í•¨ìˆ˜
        async function syncAllData(loadingBtn = null) {
            const originalContent = loadingBtn ? loadingBtn.innerHTML : '';
            if (loadingBtn) {
                loadingBtn.innerHTML = 'ì €ì¥ ì¤‘...';
                loadingBtn.disabled = true;
            }

            // ì‹œíŠ¸ í—¤ë”ì— ë§ì¶˜ ë°ì´í„° êµ¬ì¡° ìƒì„± (Category, name, count)
            const payload = inventoryData.map(item => ({
                Category: item.category,
                name: item.name,
                count: item.count
            }));

            try {
                await fetch(SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload) // ë°°ì—´ ì „ì²´ ì „ì†¡
                });
                showToast("ì „ì²´ ë°ì´í„°ê°€ ì•ˆì „í•˜ê²Œ ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
            } catch (err) {
                console.error('Sync error:', err);
                showToast("ë°ì´í„° ë™ê¸°í™” ì‹¤íŒ¨", "error");
            } finally {
                if (loadingBtn) {
                    loadingBtn.innerHTML = originalContent;
                    loadingBtn.disabled = false;
                }
            }
        }

        // ìƒë‹¨ ì €ì¥ ë²„íŠ¼ í•¸ë“¤ëŸ¬
        async function saveAllData(btn) {
            await syncAllData(btn);
        }

        // ìˆ˜ëŸ‰ ê°ì†Œ
        function decreaseQuantity(index) {
            const input = document.getElementById(`qty-${index}`);
            let value = parseInt(input.value) || 0;
            value = Math.max(0, value - 1); // ìµœì†Œê°’ 0
            input.value = value;
            inventoryData[index].count = value;
        }

        // ìˆ˜ëŸ‰ ì¦ê°€
        function increaseQuantity(index) {
            const input = document.getElementById(`qty-${index}`);
            let value = parseInt(input.value) || 0;
            value = value + 1;
            input.value = value;
            inventoryData[index].count = value;
        }

        // ìˆ˜ëŸ‰ ì§ì ‘ ì…ë ¥ ì‹œ
        function updateQuantityValue(index) {
            const input = document.getElementById(`qty-${index}`);
            let value = parseInt(input.value) || 0;
            value = Math.max(0, value); // ìµœì†Œê°’ 0
            input.value = value;
            inventoryData[index].count = value;
        }

        // ì‚­ì œí•  ì•„ì´í…œ ì¸ë±ìŠ¤ ì €ì¥
        let deleteTargetIndex = null;

        // ì‚­ì œ ëª¨ë‹¬ í‘œì‹œ
        function deleteItem(index) {
            deleteTargetIndex = index;
            toggleDeleteModal(true);
        }

        // ì‚­ì œ í™•ì¸ ëª¨ë‹¬ í† ê¸€
        function toggleDeleteModal(show) {
            const modal = document.getElementById('deleteModal');
            modal.classList.toggle('hidden', !show);
            if (!show) {
                deleteTargetIndex = null;
            }
        }

        // ì‚­ì œ í™•ì¸
        async function confirmDelete() {
            if (deleteTargetIndex !== null) {
                inventoryData.splice(deleteTargetIndex, 1);
                toggleDeleteModal(false);
                renderTable(inventoryData);
                updateStats(inventoryData);
                await syncAllData();
                showToast("í’ˆëª©ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
            }
        }

        // ìƒˆ í•­ëª© ì¶”ê°€ í•¸ë“¤ëŸ¬
        document.getElementById('inventoryForm').onsubmit = async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            
            // ë¡œì»¬ ë°ì´í„°ì— ì¶”ê°€
            inventoryData.push({
                category: formData.get('Category'),
                name: formData.get('name'),
                count: formData.get('count')
            });

            const btn = document.getElementById('saveBtn');
            toggleModal(false);
            e.target.reset();
            
            await syncAllData(btn); // ì „ì²´ ë°ì´í„° ì „ì†¡
            renderTable(inventoryData); // í™”ë©´ ì¦‰ì‹œ ê°±ì‹ 
            updateStats(inventoryData);
        };

        function toggleModal(show) {
            const modal = document.getElementById('itemModal');
            modal.classList.toggle('hidden', !show);
        }

        function showToast(msg, type = 'success') {
            const toast = document.getElementById('toast');
            const icon = document.getElementById('toastIcon');
            const bg = document.getElementById('toastBg');
            document.getElementById('toastMsg').textContent = msg;

            if (type === 'error') {
                icon.className = "fa-solid fa-circle-exclamation text-red-400 text-xl";
                bg.className = "bg-red-800 text-white px-6 py-4 rounded-lg border-2 border-red-600 flex items-center gap-3";
            } else {
                icon.className = "fa-solid fa-circle-check text-green-400 text-xl";
                bg.className = "bg-slate-800 text-white px-6 py-4 rounded-lg border-2 border-slate-600 flex items-center gap-3";
            }

            toast.classList.remove('hidden');
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }
    </script>
</body>
</html>